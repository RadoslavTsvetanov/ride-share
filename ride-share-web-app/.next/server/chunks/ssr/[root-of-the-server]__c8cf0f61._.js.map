{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///home/rado/Desktop/Projects/ride-share/ride-share-web-app/src/pages/map/ride-opprotunities.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState } from \"react\";\nimport { MapContainer, TileLayer, Marker, useMap } from \"react-leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport \"leaflet-routing-machine/dist/leaflet-routing-machine.css\";\n\ninterface RoutingProps {\n  waypoints: [number, number][];\n}\n\nconst Routing: React.FC<RoutingProps> = ({ waypoints }) => {\n  const map = useMap();\n\n  useEffect(() => {\n    if (!map) return;\n\n    // Lazy-load Leaflet and Routing Machine\n    import(\"leaflet\").then((L) => {\n      import(\"leaflet-routing-machine\").then(() => {\n        const routingControl = (L as any).Routing.control({\n          waypoints: waypoints.map(([lat, lng]) => (L as any).latLng(lat, lng)),\n          lineOptions: { styles: [{ color: \"blue\", weight: 4 }] },\n          draggableWaypoints: false,\n          addWaypoints: false,\n          fitSelectedRoutes: true,\n        }).addTo(map);\n\n        return () => map.removeControl(routingControl);\n      });\n    });\n  }, [map, waypoints]);\n\n  return null;\n};\n\nconst RideOpportunities: React.FC = () => {\n  const [position, setPosition] = useState<[number, number] | null>(null);\n  const [city, setCity] = useState(\"\");\n\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(async (pos) => {\n        const { latitude, longitude } = pos.coords;\n        setPosition([latitude, longitude]);\n\n        // Reverse geocode\n        const res = await fetch(\n          `https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${latitude}&lon=${longitude}`\n        );\n        const data = await res.json();\n        setCity(data.address.city || data.address.town || data.address.village || \"Unknown\");\n      });\n    }\n  }, []);\n\n  if (!position) return <div>Loading location...</div>;\n\n  const routePoints: [number, number][] = [\n    position,\n    [position[0] + 0.005, position[1] + 0.01],\n    [position[0] + 0.01, position[1] - 0.005],\n  ];\n\n  return (\n    <div style={{ height: \"100vh\", width: \"100%\" }}>\n      <MapContainer center={position} zoom={14} style={{ height: \"100%\", width: \"100%\" }}>\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\n        />\n        <Marker position={position}>\n          <div>\n            <b>You are here: {city}</b>\n          </div>\n        </Marker>\n        <Routing waypoints={routePoints} />\n      </MapContainer>\n    </div>\n  );\n};\n\nexport default RideOpportunities;\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;;AAFA;;;;;;AAUA,MAAM,UAAkC,CAAC,EAAE,SAAS,EAAE;IACpD,MAAM,MAAM,IAAA,0IAAM;IAElB,IAAA,gHAAS,EAAC;QACR,IAAI,CAAC,KAAK;QAEV,wCAAwC;QACxC,uFAAkB,IAAI,CAAC,CAAC;YACtB,uHAAkC,IAAI,CAAC;gBACrC,MAAM,iBAAiB,AAAC,EAAU,OAAO,CAAC,OAAO,CAAC;oBAChD,WAAW,UAAU,GAAG,CAAC,CAAC,CAAC,KAAK,IAAI,GAAK,AAAC,EAAU,MAAM,CAAC,KAAK;oBAChE,aAAa;wBAAE,QAAQ;4BAAC;gCAAE,OAAO;gCAAQ,QAAQ;4BAAE;yBAAE;oBAAC;oBACtD,oBAAoB;oBACpB,cAAc;oBACd,mBAAmB;gBACrB,GAAG,KAAK,CAAC;gBAET,OAAO,IAAM,IAAI,aAAa,CAAC;YACjC;QACF;IACF,GAAG;QAAC;QAAK;KAAU;IAEnB,OAAO;AACT;AAEA,MAAM,oBAA8B;IAClC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAA0B;IAClE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;IAEjC,IAAA,gHAAS,EAAC;QACR,IAAI,UAAU,WAAW,EAAE;YACzB,UAAU,WAAW,CAAC,kBAAkB,CAAC,OAAO;gBAC9C,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,IAAI,MAAM;gBAC1C,YAAY;oBAAC;oBAAU;iBAAU;gBAEjC,kBAAkB;gBAClB,MAAM,MAAM,MAAM,MAChB,CAAC,8DAA8D,EAAE,SAAS,KAAK,EAAE,WAAW;gBAE9F,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,QAAQ,KAAK,OAAO,CAAC,IAAI,IAAI,KAAK,OAAO,CAAC,IAAI,IAAI,KAAK,OAAO,CAAC,OAAO,IAAI;YAC5E;QACF;IACF,GAAG,EAAE;IAEL,IAAI,CAAC,UAAU,qBAAO,qKAAC;kBAAI;;;;;;IAE3B,MAAM,cAAkC;QACtC;QACA;YAAC,QAAQ,CAAC,EAAE,GAAG;YAAO,QAAQ,CAAC,EAAE,GAAG;SAAK;QACzC;YAAC,QAAQ,CAAC,EAAE,GAAG;YAAM,QAAQ,CAAC,EAAE,GAAG;SAAM;KAC1C;IAED,qBACE,qKAAC;QAAI,OAAO;YAAE,QAAQ;YAAS,OAAO;QAAO;kBAC3C,cAAA,qKAAC,gJAAY;YAAC,QAAQ;YAAU,MAAM;YAAI,OAAO;gBAAE,QAAQ;gBAAQ,OAAO;YAAO;;8BAC/E,qKAAC,6IAAS;oBACR,KAAI;oBACJ,aAAY;;;;;;8BAEd,qKAAC,0IAAM;oBAAC,UAAU;8BAChB,cAAA,qKAAC;kCACC,cAAA,qKAAC;;gCAAE;gCAAe;;;;;;;;;;;;;;;;;8BAGtB,qKAAC;oBAAQ,WAAW;;;;;;;;;;;;;;;;;AAI5B;uCAEe","debugId":null}}]
}